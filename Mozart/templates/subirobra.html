{% extends 'base_view.html'%}
{% block title %}Crear Obra - mozArt{% endblock %}
{% block content %}<section id="section-general" ng-controller="subirObraCtrl">
      <div class="formulario">
        <h2>Crear obra</h2>
        {% if form.non_field_errors %}
    {% ifnotequal form.non_field_errors.as_text|cut:"* " "$message" %}
    <div class="aviso-error">
      {{form.non_field_errors.as_text|cut:"$message"|cut:"* "}}
    </div>
  {% endifnotequal %}
{% endif %}
        <form action="" method="post" enctype="multipart/form-data" id="id_workform" name="{{form.form_name}}" novalidate>
          {% csrf_token %}
          <div class="un-cuadro s-mzfield">
            <label for="id_title" class="etiqueta-input">Título</label>
            {{form.title}}
            <div ng-show="workform.title.$error.required && workform.title.$dirty" class="aviso-error">
                Este campo es obligatorio.
            </div>
            <div ng-show="workform.title.$error.minlength" class="aviso-error">
                El título debe contener al menos 4 carácteres.
            </div>
            <div ng-show="workform.title.$error.maxlength" class="aviso-error">
                El título debe contener a lo mucho 40 carácteres.
            </div>
          </div>
          <div class="un-cuadro s-mzfield">
            <label for="id_description">Descripción de la obra</label>
            {{form.description}}
            <div ng-show="workform.description.$error.required && workform.description.$dirty" class="aviso-error">
                Este campo es obligatorio.
            </div>
            <div ng-show="workform.description.$error.maxlength" class="aviso-error">
                La descripción debe contener a lo mucho 1000 carácteres.
            </div>
          </div>
          <div class="un-cuadro s-mzfield">
            <label for="id_category" class="etiqueta-input">Categoría</label>
            {{form.category}}
            <div ng-show="workform.category.$error.required && workform.category.$dirty" class="aviso-error">
                Debes seleccionar una categoría.
            </div>
          </div>
          <div class="boton boton-azul">
            <span>Seleccionar archivo</span>
            {{form.archive}}
          </div><br/>
          <div ng-show="mostrarTexto1()">
            <strong>Archivo seleccionado: </strong>
            <span ng-bind="archivo.name"></span>
          </div>
          <div class="aviso-error" ng-show="mostrarMensaje1()">
            El archivo que seleccionaste no es soportado por mozArt.
          </div>
          <div ng-show="mostrarBoton2()">
            <div class="boton boton-azul">
              <span>Seleccionar portada</span>
              {{form.cover}}
            </div>
            <div ng-show="mostrarTexto2()">
              <strong>Imagen de portada seleccionada: </strong>
              <span ng-bind="portada.name"></span>
            </div>
            <div class="aviso-error" ng-show="mostrarMensaje2()">
              El archivo que seleccionaste no es un archivo de imagen valido.
            </div>
          </div>
          <button class="boton boton-verde" type="submit" ng-disabled="!validar()" name="Subir obra">Subir obra</button>
        </form>
      </div>
    </section>{% endblock %}